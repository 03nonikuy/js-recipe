<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
    <link rel="stylesheet" type="text/css" href="./style.css">

</head>
<body>
    <div id="app">
        <div id="vending-container">
                <div id="content-container">
                    <div id="content">
                        <img src="./images/coffee-bottle.png" width="80" height="130">
                        <div>180円</div>
                        <button id="coffee-button" v-on:Click="buyCoffee" v-bind:class="cfClass">push</button>
                    </div>
                    <div id="content">
                        <img src="./images/cola-bottle.png" width="80" height="130">
                        <div>150円</div>
                        <button id="cola-button" v-on:Click="buyCola" v-bind:class="clClass">push</button>
                    </div>
                    <div id="content">
                        <img src="./images/tea-bottle.png" width="80" height="130">
                        <div>120円</div>
                        <button id="tea-button" v-on:Click="buyTea" v-bind:class="teClass">push</button>
                    </div>
                </div>
                <div id="coin-container">
                    <div>硬貨を入れてください</div>
                    <div>
                        <div id="money" class="corrency"> {{ hasMoney }} </div>
                        <div class="corrency">円</div>
                    </div>
                </div>
                <div id="outlet-container" class="outlet-container">
                    <div id="outlet">
                        <img id="buy-coffee" src="./images/coffee-bottle.png" width="80" height="130" v-bind:class="cfHidden">
                        <img id="buy-cola" src="./images/cola-bottle.png" width="80" height="130" v-bind:class="clHidden"> 
                        <img id="buy-tea" src="./images/tea-bottle.png" width="80" height="130" v-bind:class="teHidden">
                        <div id="changes" v-bind:class="chHidden">
                            <img src="./images/100yen.png" width="70" height="70" > 
                            <img src="./images/50yen.png" width="70" height="70" >
                            <img src="./images/10yen.png" width="70" height="70" >
                        </div>
                    </div>
                </div>
            </div>
        
            <div id="coins">
                <div id="hundred-yen" class="coin" v-on:Click="addHundred">
                    <img src="./images/100yen.png" width="70" height="70">
                </div>
                <div id="half-hundred-yen" class="coin" v-on:Click="addHalfHandred">
                    <img src="./images/50yen.png" width="70" height="70">
                </div>
                <div id="ten-yen" class="coin" v-on:Click="addTen">
                    <img src="./images/10yen.png" width="70" height="70">
                </div>
            </div>  
    </div>

    <script>
        var app = new Vue({
                el: '#app',
                data:{
                    hasMoney:0,
                    cfClass:"none-buy",
                    clClass:"none-buy",
                    teClass:"none-buy",
                    cfHidden:"hidden",
                    clHidden:"hidden",
                    teHidden:"hidden",
                    chHidden:"hidden",
                },
                methods:{
                    addHundred: function(){
                        this.hasMoney = this.hasMoney + 100
                        if (this.hasMoney >= 120) {
                             this.teClass = "can-buy"

                            if (this.hasMoney >= 150) {
                                 this.clClass = "can-buy"

                                if (this.hasMoney >= 180) {
                                     this.cfClass = "can-buy"
                                }else{
                                    return false
                                }
                                
                            }else{
                                return false
                            };

                        }else{
                            return false
                        };
                    },
                    addHalfHandred: function(){
                        this.hasMoney = this.hasMoney + 50
                        if (this.hasMoney >= 120) {
                             this.teClass = "can-buy"

                            if (this.hasMoney >= 150) {
                                 this.clClass = "can-buy"

                                if (this.hasMoney >= 180) {
                                     this.cfClass = "can-buy"
                                }else{
                                    return false
                                }
                                
                            }else{
                                return false
                            };

                        }else{
                            return false
                        };
                    },
                    addTen:function(){
                        this.hasMoney = this.hasMoney + 10
                        if (this.hasMoney >= 120) {
                             this.teClass = "can-buy"

                            if (this.hasMoney >= 150) {
                                 this.clClass = "can-buy"

                                if (this.hasMoney >= 180) {
                                     this.cfClass = "can-buy"
                                }else{
                                    return false
                                }
                                
                            }else{
                                return false
                            };

                        }else{
                            return false
                        };
                    },
                    buyCoffee:function(){
                        if (this.hasMoney > 180) {
                            this.cfClass = "none-buy"
                            this.clClass = "none-buy"
                            this.teClass = "none-buy"
                            this.cfHidden = ""
                            setTimeout(() => {
                                this.cfHidden = "hidden"
                            }, 5000);
                            this.chHidden = ""
                            setTimeout(() => {
                                this.chHidden = "hidden"
                            }, 5000);
                            this.hasMoney = 0
                        }else if (this.hasMoney = 180) {
                            this.cfClass = "none-buy"
                            this.clClass = "none-buy"
                            this.teClass = "none-buy"
                            this.cfHidden = ""
                            setTimeout(() => {
                                this.cfHidden = "hidden"
                            }, 5000);
                            this.hasMoney = 0
                        }else{
                            return false
                        }
                    },
                    buyCola:function(){
                        if (this.hasMoney > 180) {
                            this.cfClass = "none-buy"
                            this.clClass = "none-buy"
                            this.teClass = "none-buy"
                            this.clHidden = ""
                            setTimeout(() => {
                                this.clHidden = "hidden"
                            }, 5000);
                            this.chHidden = ""
                            setTimeout(() => {
                                this.chHidden = "hidden"
                            }, 5000);
                            this.hasMoney = 0
                        }else if (this.hasMoney = 180) {
                            this.cfClass = "none-buy"
                            this.clClass = "none-buy"
                            this.teClass = "none-buy"
                            this.clHidden = ""
                            setTimeout(() => {
                                this.clHidden = "hidden"
                            }, 5000);
                            this.hasMoney = 0
                        }else{
                            return false
                        }             
                    },
                    buyTea:function(){
                        if (this.hasMoney > 180) {
                            this.cfClass = "none-buy"
                            this.clClass = "none-buy"
                            this.teClass = "none-buy"
                            this.teHidden = ""
                            setTimeout(() => {
                                this.teHidden = "hidden"
                            }, 5000);
                            this.chHidden = ""
                            setTimeout(() => {
                                this.chHidden = "hidden"
                            }, 5000);
                            this.hasMoney = 0
                        }else if (this.hasMoney = 180) {
                            this.cfClass = "none-buy"
                            this.clClass = "none-buy"
                            this.teClass = "none-buy"
                            this.teHidden = ""
                            setTimeout(() => {
                                this.teHidden = "hidden"
                            }, 5000);
                            this.hasMoney = 0
                        }else{
                            return false
                        }            
                    },
                },
                
            })
    </script>
</body>
</html>